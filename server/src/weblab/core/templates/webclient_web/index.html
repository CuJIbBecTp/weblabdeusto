{% set link="home" %}
{% set title="Log in" %}
{% extends "webclient_web/_base.html" %}
{% block body %}

    <div class="container">

        <div class="row">

            <div class="col-xs-6 col-md-5 col-lg-4">
                <a href="http://weblab.deusto.es">
                    <img class="wl-logo" src="{{ url_for(".static", filename="img/ui/logo.png") }}"/>
                </a>
            </div>

            <div class="col-xs-6 col-md-5 col-md-offset-1 col-lg-4 col-lg-offset-4">
                <a href="http://www.deusto.es">
                    <img class="wl-logo" src="{{ url_for("core_web.logo") }}"/>
                </a>
            </div>
        </div>

        <div class="row">

            <div class="col-lg-4 col-md-5 well" style="padding-left: 40px; padding-right: 40px">

                <form action="#" id="login-form" method="POST" class="form-horizontal" role="form">
                    <div id="legend">
                        <legend class="">{{ gettext("Log in") }}</legend>
                    </div>

                    <div class="form-group">
                        <label class="control-label" for="username">{{ gettext("Username") }}</label>

                        <div class="controls">
                            <input type="text" name="username" placeholder="Username" id="username"
                                   class="form-control">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label" for="username">{{ gettext("Password") }}</label>

                        <div class="controls">
                            <input type="password" name="password" placeholder="Password" id="password"
                                   class="form-control">
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="row">
                            <div class="col-xs-4">
                                <input href="#" id="login" type="submit" class="btn btn-success" value="Log in Â»">
                            </div>
                            <div class="col-xs-8">
                                <p class="alert alert-info" id="login-status" style="visibility:hidden">
                                    {# To be filled from JS #}
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    {% if weblab_api.client_property("demo.available") %}
                    <div style="margin-top: 0px">
                        <p style="line-height:1.2em">{{ gettext("Some experiments allow guest access") }}</p>
                        <input type="submit" href="#" name="guestlogin" id="guestlogin" class="btn btn-default" value="{{ gettext("Log in as guest") }}"/>
                    </div>
                    {% endif %}
                </form>
            </div>

            <div class="col-lg-6 col-md-6 col-md-push-1 col-lg-push-2">
                <h2>{{ gettext("WebLab-Deusto") }}</h2>

                <p>{{ gettext("WebLab-Deusto is a Remote Laboratory. Students access experiments physically located in the
                    university,
                    having the same experience as if in traditional hands-on-lab sessions. There is more information
                    regarding
                    the project in the WebLab-Deusto Research Group site.") }}</p>

                <div class="row">

                    <div class="col-xs-2 wl-vertical-center">
                        <img class="wl-login-icon" src="{{ url_for(".static", filename="img/ui/support.png") }}"/>
                    </div>
                    <div class="col-xs-10 wl-vertical-center">
                        <h3>
                            {{ gettext("Support") }}
                        </h3>

                        <p>{{ gettext("For any technical issue you may find, please contact us at {mail}".format(mail = '<a href="mailto:{0}">{0}</a>'.format(weblab_api.client_property("admin.email")))) }}</p>
                    </div>
                </div>
                {% if weblab_api.client_property("demo.available") %}
                <div class="row">
                    <div class="col-xs-2 wl-vertical-center">
                        <img class="wl-login-icon" src="{{ url_for(".static", filename="img/ui/demo.png") }}"
                                />
                    </div>

                    <div class="col-xs-10 wl-vertical-center">
                        <h3>
                            {{ gettext("Demo") }}
                        </h3>
                        
                        <p>{{ gettext("If you do not have a user account, you can try our demo experiments with the username {username} and the password {password}.".format(username = "<b>{0}</b>".format(weblab_api.client_property("demo.username")), password = "<b>{0}</b>".format(weblab_api.client_property("demo.password")))) }}</p>
                    </div>
                </div>
                {% endif %}

                <div class="row">
                    <div class="col-xs-2 wl-vertical-center">
                        <img class="wl-login-icon" src="{{ url_for(".static", filename="img/ui/opensource.png") }}"
                             style="width: 100%; height: 100%"/>
                    </div>
                    <div class="col-xs-10 wl-vertical-center">
                        <h3>
                            {{ gettext("                            Open Source") }}
                        </h3>

                        <p>{{ gettext("WebLab-Deusto is Open Source Software, and it is available in {link}".format(link = '<a href="https://github.com/weblabdeusto/weblabdeusto/">https://github.com/weblabdeusto/weblabdeusto/</a>')) }}</p>
                    </div>
                </div>
                <!-- !row-->
            </div>
        </div>
    </div>


{% endblock %}

{% block scripts %}
    <script type="text/javascript">


        /**
         * Angular code.
         */
        angular
                .module("loginScreen", [])
                .controller("LoginScreenController", LoginScreenController);

        function LoginScreenController($scope) {

        }

        // We manually bootstrap the page so that we don't have to pre-load this code.
        angular.element(document).ready(function () {
            angular.bootstrap(document, ['loginScreen']);
        });

    </script>
{% endblock %}

