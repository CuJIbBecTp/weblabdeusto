
.. DO NOT EDIT THIS FILE. It has been autogenerated at weblab/server/src/weblab/configuration_doc.py

Configuration variables
=======================

This section covers the available configuration variables, organized by
different sections.

.. contents:: Table of Contents

Login Server
------------

This configuration is used only by the Login servers. The Login server manages the authentication requests and check the credentials (e.g. LDAP, OpenID, OAuth 2.0 or using the database). It is the only server which ever transports a password. Note that there is other common configuration which affects the Login server, so also take a look at the Common Configuration in this document.

Facade
^^^^^^

The login facade configuration variables are used by the web services interface. You can change the ports, etc., but take into account the final web server (e.g. Apache) configuration.

==================================== ========== ==================== ===============================================================================================================================================================================================================================================================================================================
*Property*                           *Type*     *Default value*      *Description*                                                                                                                                                                                                                                                                                                  
==================================== ========== ==================== ===============================================================================================================================================================================================================================================================================================================
login_facade_trusted_addresses       tuple      ('127.0.0.1',)       The IP addresses on which the Login server will trust. Moodle can access WebLab from a well known IP address, and if Moodle says "I'm user foo", and in WebLab-Deusto, the user "foo" can be accessed from the IP address of that moodle, then Moodle will be able to log in as this user without any password.
login_facade_soap_bind               basestring                      Binding address for the SOAP facade at Login Server                                                                                                                                                                                                                                                            
login_facade_soap_port               int                             Port number for the SOAP facade at Login Server                                                                                                                                                                                                                                                                
login_facade_soap_service_name       basestring /weblab/login/soap/  Service name for the SOAP facade at Login Server                                                                                                                                                                                                                                                               
login_facade_soap_public_server_host basestring www.weblab.deusto.es Public server host, used for generating the WSDL file.                                                                                                                                                                                                                                                         
login_facade_soap_public_server_port int        80                   Public server port, used for generating the WSDL file.                                                                                                                                                                                                                                                         
login_facade_json_bind               basestring                      Binding address for the JSON facade at Login Server                                                                                                                                                                                                                                                            
login_facade_json_port               int                             Port number for the JSON facade at Login Server                                                                                                                                                                                                                                                                
login_facade_xmlrpc_bind             basestring                      Binding address for the XML-RPC facade at Login Server                                                                                                                                                                                                                                                         
login_facade_xmlrpc_port             int                             Port number for the XML-RPC facade at Login Server                                                                                                                                                                                                                                                             
==================================== ========== ==================== ===============================================================================================================================================================================================================================================================================================================

Laboratory Server
-----------------

The laboratory server is closer to the experiment server and checks if it is alive, maintains the sessions and acts as a bridge between the pool of core servers and the experiments.

General
^^^^^^^

=============================== ========== ================ ===========================================================================================================================================================================================================================================================================================================================================================================================================================================
*Property*                      *Type*     *Default value*  *Description*                                                                                                                                                                                                                                                                                                                                                                                                                              
=============================== ========== ================ ===========================================================================================================================================================================================================================================================================================================================================================================================================================================
laboratory_session_type         basestring Memory           What type of session manager the Core Server will use: Memory or MySQL.                                                                                                                                                                                                                                                                                                                                                                    
laboratory_session_pool_id      basestring LaboratoryServer See "core_session_pool_id" in the core server.                                                                                                                                                                                                                                                                                                                                                                                             
laboratory_assigned_experiments list                        List of strings representing which experiments are available through this particular laboratory server. Each string contains something like 'exp1|ud-fpga|FPGA experiments;experiment_fpga:main_instance@main_machine', where exp1|ud-fpga|FPGA experiments is the identifier of the experiment (see core_coordinator_laboratory_servers), and "experiment_fpga:main_instance@main_machine" is the WebLab Address of the experiment server.
laboratory_exclude_checking     list       []               List of ids of experiments upon which checks will not be run                                                                                                                                                                                                                                                                                                                                                                               
=============================== ========== ================ ===========================================================================================================================================================================================================================================================================================================================================================================================================================================

Common configuration
--------------------

These variables affect all the servers. For instance, certain servers use a session manager (e.g. the Core server for users, but also the Laboratory server).

Admin Notifier
^^^^^^^^^^^^^^

The Admin notifier is mainly used by the core server for notifying administrators of certain activity such as broken laboratories.

========================= ========== ======================== ===========================================
*Property*                *Type*     *Default value*          *Description*                              
========================= ========== ======================== ===========================================
mail_notification_enabled bool                                Enables or Disables mail notifications     
mail_server_host          basestring                          Host to use for sending mail               
mail_server_helo          basestring                          Address to be used on the mail's HELO      
mail_server_use_tls       basestring no                       Use TLS or not. Values: 'yes' or 'no'      
mail_notification_sender  basestring                          Address of the mail's sender               
mail_notification_subject basestring [WebLab] CRITICAL ERROR! (Optional) Subject of the notification mail
========================= ========== ======================== ===========================================

Sessions
^^^^^^^^

The session configuration is mainly used by the Core Server, but also by the Laboratory Server and by certain Experiment Servers.

================================ ========== =============== ================================================================================================================================================
*Property*                       *Type*     *Default value* *Description*                                                                                                                                   
================================ ========== =============== ================================================================================================================================================
session_sqlalchemy_engine        basestring mysql           Database engine used for sessions the database. Example: mysql                                                                                  
session_sqlalchemy_host          basestring localhost       Location of the sessions database server                                                                                                        
session_sqlalchemy_port          int        None            Location of the sessions database server                                                                                                        
session_sqlalchemy_db_name       basestring WebLabSessions  Database name of the sessions database                                                                                                          
session_sqlalchemy_username      basestring                 Username for connecting to the sessions database                                                                                                
session_sqlalchemy_password      basestring                 Password for connecting to the sessions database                                                                                                
session_lock_sqlalchemy_engine   basestring mysql           Database engine used for locking the database. Example: mysql                                                                                   
session_lock_sqlalchemy_host     basestring localhost       Location of the locking database server                                                                                                         
session_lock_sqlalchemy_port     int        None            Location of the locking database server                                                                                                         
session_lock_sqlalchemy_db_name  basestring WebLabSessions  Database name of the locking database                                                                                                           
session_lock_sqlalchemy_username basestring                 Username for connecting to the locking database                                                                                                 
session_lock_sqlalchemy_password basestring                 Password for connecting to the locking database                                                                                                 
session_manager_default_timeout  int        7200            Maximum time that a session will be stored in a Session Manager. In seconds.                                                                    
session_memory_gateway_serialize bool       False           Sessions can be stored in a database or in memory. If they are stored in memory, they can be serialized in memory or not, to check the behaviour
================================ ========== =============== ================================================================================================================================================

General
^^^^^^^

These variables are simple variables which are general to the whole project.

================================ ========== =============== =====================================================================================================
*Property*                       *Type*     *Default value* *Description*                                                                                        
================================ ========== =============== =====================================================================================================
debug_mode                       bool       False           If True, errors and exceptions are shown instead of generic feedback (like WebLabInternalServerError)
server_admin                     basestring None            WebLab-Deusto administrator's email address for notifications. See Admin Notifier settings below.    
server_hostaddress               basestring                 Host address of this WebLab-Deusto deployment                                                        
propagate_stack_traces_to_client bool       False           If True, stacktraces are propagated to the client (useful for debugging).                            
facade_timeout                   float      0.5             Seconds that the facade will wait accepting a connection before checking again for shutdown requests.
================================ ========== =============== =====================================================================================================

Database
^^^^^^^^

The database configuration applies to the Core Server and the Login Server (which both connect to the same database).

=============================== ========== =============== ============================================
*Property*                      *Type*     *Default value* *Description*                               
=============================== ========== =============== ============================================
db_host                         basestring localhost       Location of the database server             
db_port                         int        None            Port where the database is listening, if any
db_database                     basestring WebLab          Name of the main database                   
db_engine                       basestring mysql           Engine used. Example: mysql, sqlite         
weblab_db_username              basestring weblab          WebLab database username                    
weblab_db_password              basestring                 WebLab database user password               
weblab_db_force_engine_creation bool       False           Force the creation of an engine each time   
=============================== ========== =============== ============================================

Core Server
-----------

This configuration is used only by the Core servers. The Core server manages the scheduling, life cycle of the users, the sessions, and the incoming web services calls. Note that there is other common configuration which affects the Core server, so also take a look at the Common Configuration in this document.

Facade
^^^^^^

Here you can customize the general web services consumed by the clients. Stuff like which ports will be used, etc.

=================================== ========== ======================= ======================================================================================================
*Property*                          *Type*     *Default value*         *Description*                                                                                         
=================================== ========== ======================= ======================================================================================================
core_facade_server_route            basestring default-route-to-server Identifier of the server or groups of servers that will receive requests, for load balancing purposes.
core_facade_soap_bind               basestring                         Binding address for the SOAP facade at Core Server                                                    
core_facade_soap_port               int                                Port number for the SOAP facade at Core Server                                                        
core_facade_soap_service_name       basestring /weblab/soap/           Service name for the SOAP facade at Core Server                                                       
core_facade_soap_public_server_host basestring www.weblab.deusto.es    Public server host, used for generating the WSDL file.                                                
core_facade_soap_public_server_port int        80                      Public server port, used for generating the WSDL file.                                                
core_facade_json_bind               basestring                         Binding address for the JSON facade at Core Server                                                    
core_facade_json_port               int                                Binding address for the JSON facade at Core Server                                                    
core_facade_xmlrpc_bind             basestring                         Binding address for the XML-RPC facade at Core Server                                                 
core_facade_xmlrpc_port             int                                Port number for the XML-RPC facade at Core Server                                                     
=================================== ========== ======================= ======================================================================================================

Coordinator
^^^^^^^^^^^

This is the configuration variables used by the scheduling backend (called Coordinator). Basically, you can choose among redis or a SQL based one, and customize the one selected.

=================================== ========== ================== ======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================
*Property*                          *Type*     *Default value*    *Description*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
=================================== ========== ================== ======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================
core_coordinator_db_host            basestring localhost          Host of the database server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
core_coordinator_db_port            int        None               Port of the database server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
core_coordinator_db_name            basestring WebLabCoordination Name of the coordination database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
core_coordinator_db_username        basestring                    Username to access the coordination database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
core_coordinator_db_password        basestring                    Password to access the coordination database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
core_coordinator_db_engine          basestring mysql              Driver used for the coordination database. We currently have only tested MySQL, although it should be possible to use other engines.                                                                                                                                                                                                                                                                                                                                                                                                                  
core_coordinator_laboratory_servers list                          Available laboratory servers. It's a list of strings, having each string this format: "laboratory1:main_instance@main_machine;exp1|ud-fpga|FPGA experiments", for the "laboratory1" in the instance "main_instance" at the machine "main_machine", which will handle the experiment instance "exp1" of the experiment type "ud-fpga" of the category "FPGA experiments". A laboratory can handle many experiments, and each experiment type may have many experiment instances with unique identifiers (such as "exp1" of "ud-fpga|FPGA experiments").
core_coordinator_clean              bool       True               Whether this server will clean the coordinator tables or not. If there are two core servers, and one of them is turned off, you don't want that it deletes everything on the database when that server is turned on, because all the sessions handled by the other core server will be lost.                                                                                                                                                                                                                                                          
=================================== ========== ================== ======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================

General
^^^^^^^

General variables for the Core server: what type of session, should we store students programs, etc.

================================= ========== ==================== ============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================
*Property*                        *Type*     *Default value*      *Description*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
================================= ========== ==================== ============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================
core_session_type                 basestring Memory               What type of session manager the Core Server will use: Memory or MySQL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
core_session_pool_id              basestring UserProcessingServer  A unique identifier of the type of sessions, in order to manage them. For instance, if there are four servers (A, B, C and D), the load of users can be splitted in two groups: those being sent to A and B, and those being sent to C and D. A and B can share those sessions to provide fault tolerance (if A falls down, B can keep working from the same point A was) using a MySQL session manager, and the same may apply to C and D. The problem is that if A and B want to delete all the sessions -at the beginning, for example-, but they don't want to delete sessions of C and D, then they need a unique identifier shared for A and B, and another for C and D. In this case, "UserProcessing_A_B" and "UserProcessing_C_D" would be enough.
core_server_url                   basestring                      The base URL for this server. For instance, http://www.weblab.deusto.es/weblab/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
core_store_students_programs      bool       False                Whether files submitted by users should be stored or not.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
core_store_students_programs_path basestring None                 If files are stored, in which local directory should be stored.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
================================= ========== ==================== ============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================

